<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Search results for "{{ query }}"</title>
    <style>
        body{font-family:Arial, sans-serif;max-width:900px;margin:40px auto;padding:20px;background:#f7fafc}
        .card{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.08)}
        nav a{margin-right:12px;text-decoration:none;color:#2d3748;font-weight:bold}
        .result{border:1px solid #e2e8f0;padding:12px;border-radius:8px;margin:12px 0;background:#fff}
        .price{color:#2f855a;font-weight:700}
        .no{color:#c53030}
    </style>
</head>
<body>
    <div class="card">
        <nav>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('categories') }}">Categories</a>
            <a href="{{ url_for('products_list') }}">All Products</a>
        </nav>

        <h1>Search results for: "{{ query }}"</h1>

        {% if results %}
            <p>{{ results|length }} result(s) found.</p>

            {% for r in results %}
                <div class="result">
                    <div><strong>{{ r['name'] }}</strong> — <span style="text-transform:capitalize">{{ r['category'] }}</span></div>
                    <div>ID: <a href="{{ url_for('category_product', category_name=r['category'], product_id=r['id']) }}">#{{ r['id'] }}</a></div>
                    <div class="price">₹{{ "{:,.2f}".format(r['price']) }}</div>
                    <div style="margin-top:8px;color:#4a5568;">{{ r['description'] }}</div>
                </div>
            {% endfor %}
        {% else %}
            <p class="no">No results found for "{{ query }}".</p>
        {% endif %}

        <p><a href="{{ url_for('home') }}">← Back to Home</a></p>
    </div>
</body>
</html>